########################################
#  This file was generated by hdlmake  #
#  http://ohwr.org/projects/hdl-make/  #
########################################

## variables #############################
PWD := $(shell pwd)

MODELSIM_INI_PATH := /opt/modelsim_10.0c/modeltech

VCOM_FLAGS := -quiet -modelsimini modelsim.ini
VSIM_FLAGS :=
VLOG_FLAGS := -quiet -modelsimini modelsim.ini 
VERILOG_SRC := 
VERILOG_OBJ := 
VHDL_SRC := ../../rtl/mem_interface_pkg.vhd \
../../rtl/cbmia_pkg.vhd \
../../rtl/decr_cnt.vhd \
../../rtl/incr_cnt.vhd \
../../rtl/irq_regs.vhd \
../../rtl/mem_interface_mux.vhd \
core_tb.vhd \
../../rtl/mem_interface.vhd \
../../rtl/mil1553_core.vhd \
../../rtl/mil1553_rx_clk.vhd \
../../rtl/mil1553_rx_deglitcher.vhd \
../../rtl/mil1553_rx_deserialiser.vhd \
../../rtl/mil1553_rx.vhd \
../../rtl/mil1553_tx_clk.vhd \
../../rtl/mil1553_tx_serialiser.vhd \
../../rtl/mil1553_tx.vhd \
../../rtl/monostable.vhd \
../../rtl/one_wire_ds1822.vhd \

VHDL_OBJ := work/mem_interface_pkg/.mem_interface_pkg_vhd \
work/cbmia_pkg/.cbmia_pkg_vhd \
work/decr_cnt/.decr_cnt_vhd \
work/incr_cnt/.incr_cnt_vhd \
work/irq_regs/.irq_regs_vhd \
work/mem_interface_mux/.mem_interface_mux_vhd \
work/core_tb/.core_tb_vhd \
work/mem_interface/.mem_interface_vhd \
work/mil1553_core/.mil1553_core_vhd \
work/mil1553_rx_clk/.mil1553_rx_clk_vhd \
work/mil1553_rx_deglitcher/.mil1553_rx_deglitcher_vhd \
work/mil1553_rx_deserialiser/.mil1553_rx_deserialiser_vhd \
work/mil1553_rx/.mil1553_rx_vhd \
work/mil1553_tx_clk/.mil1553_tx_clk_vhd \
work/mil1553_tx_serialiser/.mil1553_tx_serialiser_vhd \
work/mil1553_tx/.mil1553_tx_vhd \
work/monostable/.monostable_vhd \
work/one_wire_ds1822/.one_wire_ds1822_vhd \

LIBS := work
LIB_IND := work/.work
## rules #################################
sim: modelsim.ini $(LIB_IND) $(VERILOG_OBJ) $(VHDL_OBJ)
$(VERILOG_OBJ): $(VHDL_OBJ) 
$(VHDL_OBJ): $(LIB_IND) modelsim.ini

modelsim.ini: $(MODELSIM_INI_PATH)/modelsim.ini
		cp $< .
clean:
		rm -rf ./modelsim.ini $(LIBS)
.PHONY: clean

work/.work:
	(vlib work && vmap -modelsimini modelsim.ini work && touch work/.work )|| rm -rf work 


work/mem_interface_pkg/.mem_interface_pkg_vhd: ../../rtl/mem_interface_pkg.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/cbmia_pkg/.cbmia_pkg_vhd: ../../rtl/cbmia_pkg.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/cbmia_pkg/.cbmia_pkg: \
work/mem_interface_pkg/.mem_interface_pkg

work/decr_cnt/.decr_cnt_vhd: ../../rtl/decr_cnt.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/incr_cnt/.incr_cnt_vhd: ../../rtl/incr_cnt.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/irq_regs/.irq_regs_vhd: ../../rtl/irq_regs.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mem_interface_mux/.mem_interface_mux_vhd: ../../rtl/mem_interface_mux.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mem_interface_mux/.mem_interface_mux: \
work/mem_interface_pkg/.mem_interface_pkg

work/core_tb/.core_tb_vhd: core_tb.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/core_tb/.core_tb: \
work/mem_interface_pkg/.mem_interface_pkg \
work/cbmia_pkg/.cbmia_pkg

work/mem_interface/.mem_interface_vhd: ../../rtl/mem_interface.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mem_interface/.mem_interface: \
work/mem_interface_pkg/.mem_interface_pkg

work/mil1553_core/.mil1553_core_vhd: ../../rtl/mil1553_core.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mil1553_core/.mil1553_core: \
work/mem_interface_pkg/.mem_interface_pkg \
work/cbmia_pkg/.cbmia_pkg

work/mil1553_rx_clk/.mil1553_rx_clk_vhd: ../../rtl/mil1553_rx_clk.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mil1553_rx_clk/.mil1553_rx_clk: \
work/cbmia_pkg/.cbmia_pkg

work/mil1553_rx_deglitcher/.mil1553_rx_deglitcher_vhd: ../../rtl/mil1553_rx_deglitcher.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mil1553_rx_deglitcher/.mil1553_rx_deglitcher: \
work/cbmia_pkg/.cbmia_pkg

work/mil1553_rx_deserialiser/.mil1553_rx_deserialiser_vhd: ../../rtl/mil1553_rx_deserialiser.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mil1553_rx_deserialiser/.mil1553_rx_deserialiser: \
work/cbmia_pkg/.cbmia_pkg

work/mil1553_rx/.mil1553_rx_vhd: ../../rtl/mil1553_rx.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mil1553_rx/.mil1553_rx: \
work/cbmia_pkg/.cbmia_pkg

work/mil1553_tx_clk/.mil1553_tx_clk_vhd: ../../rtl/mil1553_tx_clk.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mil1553_tx_clk/.mil1553_tx_clk: \
work/cbmia_pkg/.cbmia_pkg

work/mil1553_tx_serialiser/.mil1553_tx_serialiser_vhd: ../../rtl/mil1553_tx_serialiser.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mil1553_tx_serialiser/.mil1553_tx_serialiser: \
work/cbmia_pkg/.cbmia_pkg

work/mil1553_tx/.mil1553_tx_vhd: ../../rtl/mil1553_tx.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/mil1553_tx/.mil1553_tx: \
work/cbmia_pkg/.cbmia_pkg

work/monostable/.monostable_vhd: ../../rtl/monostable.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


work/one_wire_ds1822/.one_wire_ds1822_vhd: ../../rtl/one_wire_ds1822.vhd
		vcom $(VCOM_FLAGS)  -work work $< 
		@mkdir -p $(dir $@) && touch $@


